---
# @see https://blog.stephane-robert.info/docs/infra-as-code/gestion-de-configuration/ansible/modules/packages/

- name: Install Linux packages
  become: true
  ansible.builtin.package:
    name:
      # If a tool is supported by asdf, prefer installing it using asdf because it allows to always use the latest
      # version.
      - alsa-utils
      - apt-transport-https
      - autoconf
      - automake
      - bash-completion
      - bison              # Linux Kernel compilation
      - build-essential
      - ca-certificates
      - calibre
      - clang
      - cmake
      - cups
      - curl
      - devscripts         # Linux Kernel compilation
      - evince
      - fakeroot           # Linux Kernel compilation
      - feh                # Lightweight image viewer
      - flex               # Linux Kernel compilation
      - gcc
      - git
      - gnupg
      - gparted
      - gvfs-backends      # Required for Thunar trash, removable media and remote fil systems support
      - gvfs-fuse          # Required for Thunar trash, removable media and remote fil systems support
      - hwinfo
      - libarchive-tools
      - libelf-dev         # Linux kernel compilation
      - libnotify-bin      # For the 'notify-send' command
      - libssl-dev         # Linux kernel compilation
      - lshw               # HardWare Lister for Linux
      - make
      - network-manager
      - pkg-config
      - podman
      - printer-driver-all
      - psmisc             # Required for the 'killall' command for example
      - python3-pip
      - ristretto          # XFCE image viewer
      - rsync
      - shellcheck         # https://github.com/koalaman/shellcheck
      - thunar                # XFCE file manager
      - thunar-archive-plugin # Archive support for Thunar
      - thunar-dropbox-plugin # Dropbox support for Thunar
      - unzip
      - vlc
      - wget
      - zip
    state: latest


# @see https://docs.ansible.com/ansible/latest/collections/ansible/builtin/pip_module.html
- name: Install Python packages
  ansible.builtin.pip:
    name:
      - buku  # CLI Bookmark Manager - https://github.com/jarun/buku
      - cryptography
      - pyopenssl
      - yubikey-manager
    break_system_packages: true
    state: present
